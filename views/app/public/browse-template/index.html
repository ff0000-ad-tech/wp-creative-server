<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>Creative Server - {directory}</title>
		<link rel="stylesheet" href="/app-public/styles.css">
		<style>{style}</style>
		<script type="text/javascript">
			// open directory
			function openInFinder(target) {
				xhr('/api/open-directory/?target=' + encodeURIComponent(target), () => {})
			}
			// edit file
			function editInApp(target) {
				xhr('/api/edit-file/?target=' + encodeURIComponent(target), () => {})
			}
			// xhr util
			function xhr(url, callback) {
				var request = new XMLHttpRequest();
				request.onreadystatechange = function() {
					if (request.readyState == 4 && request.status == 200) {
						callback(request.responseText);
					}
				}; 
				request.open('GET', url);
				request.send();
			}
		</script>
	</head>
	<body>
		<div id="browser">
			<div id="panel">
				<h1><a href="/">~</a>{linked-path}</h1>
				{files}
			</div>
		</div>
	</body>
</html>